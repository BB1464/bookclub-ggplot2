<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8.2 What is network data? | ggplot2 Book Club</title>
  <meta name="description" content="This is the product of the R4DS Online Learning Community’s Book Club." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="8.2 What is network data? | ggplot2 Book Club" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the product of the R4DS Online Learning Community’s Book Club." />
  <meta name="github-repo" content="r4ds/bookclub-ggplot2" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8.2 What is network data? | ggplot2 Book Club" />
  
  <meta name="twitter:description" content="This is the product of the R4DS Online Learning Community’s Book Club." />
  

<meta name="author" content="The R4DS Online Learning Community" />


<meta name="date" content="2021-11-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction-1.html"/>
<link rel="next" href="visualizing-networks.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ggplot2 with R Book Club</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="book-club-meetings.html"><a href="book-club-meetings.html"><i class="fa fa-check"></i>Book club meetings</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="slide-1-title.html"><a href="slide-1-title.html"><i class="fa fa-check"></i><b>1.1</b> {Slide 1 title}</a></li>
<li class="chapter" data-level="1.2" data-path="meeting-videos.html"><a href="meeting-videos.html"><i class="fa fa-check"></i><b>1.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="1.2.1" data-path="meeting-videos.html"><a href="meeting-videos.html#cohort-1"><i class="fa fa-check"></i><b>1.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="first-steps.html"><a href="first-steps.html"><i class="fa fa-check"></i><b>2</b> First Steps</a><ul>
<li class="chapter" data-level="2.1" data-path="general-housekeeping-items.html"><a href="general-housekeeping-items.html"><i class="fa fa-check"></i><b>2.1</b> General Housekeeping Items</a></li>
<li class="chapter" data-level="2.2" data-path="learning-objectives.html"><a href="learning-objectives.html"><i class="fa fa-check"></i><b>2.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.3" data-path="main-data-set.html"><a href="main-data-set.html"><i class="fa fa-check"></i><b>2.3</b> Main data set</a></li>
<li class="chapter" data-level="2.4" data-path="components-of-every-plot.html"><a href="components-of-every-plot.html"><i class="fa fa-check"></i><b>2.4</b> Components of every plot</a></li>
<li class="chapter" data-level="2.5" data-path="a-few-exercises.html"><a href="a-few-exercises.html"><i class="fa fa-check"></i><b>2.5</b> A few exercises</a></li>
<li class="chapter" data-level="2.6" data-path="other-aesthetic-attributes.html"><a href="other-aesthetic-attributes.html"><i class="fa fa-check"></i><b>2.6</b> Other aesthetic attributes</a></li>
<li class="chapter" data-level="2.7" data-path="faceting.html"><a href="faceting.html"><i class="fa fa-check"></i><b>2.7</b> Faceting</a></li>
<li class="chapter" data-level="2.8" data-path="geoms.html"><a href="geoms.html"><i class="fa fa-check"></i><b>2.8</b> Geoms</a></li>
<li class="chapter" data-level="2.9" data-path="modifying-the-axes.html"><a href="modifying-the-axes.html"><i class="fa fa-check"></i><b>2.9</b> Modifying the Axes</a></li>
<li class="chapter" data-level="2.10" data-path="output.html"><a href="output.html"><i class="fa fa-check"></i><b>2.10</b> Output</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="layers.html"><a href="layers.html"><i class="fa fa-check"></i><b>3</b> Layers</a><ul>
<li class="chapter" data-level="3.1" data-path="layers-chapters.html"><a href="layers-chapters.html"><i class="fa fa-check"></i><b>3.1</b> Layers: Chapters</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="individual-geoms.html"><a href="individual-geoms.html"><i class="fa fa-check"></i><b>4</b> Individual Geoms</a><ul>
<li class="chapter" data-level="4.1" data-path="scatterplot.html"><a href="scatterplot.html"><i class="fa fa-check"></i><b>4.1</b> Scatterplot:</a></li>
<li class="chapter" data-level="4.2" data-path="line-plot.html"><a href="line-plot.html"><i class="fa fa-check"></i><b>4.2</b> Line plot:</a></li>
<li class="chapter" data-level="4.3" data-path="histogram.html"><a href="histogram.html"><i class="fa fa-check"></i><b>4.3</b> Histogram:</a></li>
<li class="chapter" data-level="4.4" data-path="bar-chart.html"><a href="bar-chart.html"><i class="fa fa-check"></i><b>4.4</b> Bar chart</a></li>
<li class="chapter" data-level="4.5" data-path="geom_polygon-draws-polygons-which-are-filled-paths..html"><a href="geom_polygon-draws-polygons-which-are-filled-paths..html"><i class="fa fa-check"></i><b>4.5</b> geom_polygon() draws polygons which are filled paths.</a></li>
<li class="chapter" data-level="4.6" data-path="geom_line-connects-points-from-left-to-right..html"><a href="geom_line-connects-points-from-left-to-right..html"><i class="fa fa-check"></i><b>4.6</b> geom_line() connects points from left to right.</a></li>
<li class="chapter" data-level="4.7" data-path="what-low-level-geoms-are-used-to-draw-geom_smooth.html"><a href="what-low-level-geoms-are-used-to-draw-geom_smooth.html"><i class="fa fa-check"></i><b>4.7</b> What low-level geoms are used to draw geom_smooth()?</a></li>
<li class="chapter" data-level="4.8" data-path="what-low-level-geoms-are-used-to-draw-geom_boxplot.html"><a href="what-low-level-geoms-are-used-to-draw-geom_boxplot.html"><i class="fa fa-check"></i><b>4.8</b> What low-level geoms are used to draw geom_boxplot()?</a></li>
<li class="chapter" data-level="4.9" data-path="what-low-level-geoms-are-used-to-draw-geom_violin.html"><a href="what-low-level-geoms-are-used-to-draw-geom_violin.html"><i class="fa fa-check"></i><b>4.9</b> What low-level geoms are used to draw geom_violin()?</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="collective-geoms.html"><a href="collective-geoms.html"><i class="fa fa-check"></i><b>5</b> Collective Geoms</a><ul>
<li class="chapter" data-level="5.1" data-path="general-housekeeping-items-1.html"><a href="general-housekeeping-items-1.html"><i class="fa fa-check"></i><b>5.1</b> General Housekeeping Items</a></li>
<li class="chapter" data-level="5.2" data-path="learning-objectives-1.html"><a href="learning-objectives-1.html"><i class="fa fa-check"></i><b>5.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="5.3" data-path="quick-intuition-on-collective-geoms.html"><a href="quick-intuition-on-collective-geoms.html"><i class="fa fa-check"></i><b>5.3</b> Quick Intuition on Collective Geoms</a></li>
<li class="chapter" data-level="5.4" data-path="from-the-ggplot2-book.html"><a href="from-the-ggplot2-book.html"><i class="fa fa-check"></i><b>5.4</b> From the ggplot2 book</a><ul>
<li class="chapter" data-level="5.4.1" data-path="from-the-ggplot2-book.html"><a href="from-the-ggplot2-book.html#multiple-groups-one-aesthetic"><i class="fa fa-check"></i><b>5.4.1</b> Multiple Groups, One Aesthetic</a></li>
<li class="chapter" data-level="5.4.2" data-path="from-the-ggplot2-book.html"><a href="from-the-ggplot2-book.html#different-groups-on-different-layers"><i class="fa fa-check"></i><b>5.4.2</b> Different Groups on Different Layers</a></li>
<li class="chapter" data-level="5.4.3" data-path="from-the-ggplot2-book.html"><a href="from-the-ggplot2-book.html#overriding-the-default-grouping"><i class="fa fa-check"></i><b>5.4.3</b> Overriding the Default Grouping</a></li>
<li class="chapter" data-level="5.4.4" data-path="from-the-ggplot2-book.html"><a href="from-the-ggplot2-book.html#a-couple-of-exercises"><i class="fa fa-check"></i><b>5.4.4</b> A couple of exercises</a></li>
<li class="chapter" data-level="5.4.5" data-path="from-the-ggplot2-book.html"><a href="from-the-ggplot2-book.html#matching-aesthetics-to-graphic-objects"><i class="fa fa-check"></i><b>5.4.5</b> Matching Aesthetics to Graphic Objects</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="statistical-summaries.html"><a href="statistical-summaries.html"><i class="fa fa-check"></i><b>6</b> Statistical Summaries</a><ul>
<li class="chapter" data-level="6.1" data-path="defintions-in-this-chapter.html"><a href="defintions-in-this-chapter.html"><i class="fa fa-check"></i><b>6.1</b> Defintions (in this Chapter)</a></li>
<li class="chapter" data-level="6.2" data-path="revealing-uncertainty.html"><a href="revealing-uncertainty.html"><i class="fa fa-check"></i><b>6.2</b> Revealing Uncertainty</a></li>
<li class="chapter" data-level="6.3" data-path="weighted-data.html"><a href="weighted-data.html"><i class="fa fa-check"></i><b>6.3</b> Weighted Data</a></li>
<li class="chapter" data-level="6.4" data-path="displaying-distributions.html"><a href="displaying-distributions.html"><i class="fa fa-check"></i><b>6.4</b> Displaying distributions</a><ul>
<li class="chapter" data-level="6.4.1" data-path="displaying-distributions.html"><a href="displaying-distributions.html#exercise"><i class="fa fa-check"></i><b>6.4.1</b> Exercise:</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="dealing-with-overplotting.html"><a href="dealing-with-overplotting.html"><i class="fa fa-check"></i><b>6.5</b> Dealing with overplotting</a></li>
<li class="chapter" data-level="6.6" data-path="statistical-summaries-1.html"><a href="statistical-summaries-1.html"><i class="fa fa-check"></i><b>6.6</b> Statistical Summaries</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="maps.html"><a href="maps.html"><i class="fa fa-check"></i><b>7</b> Maps</a><ul>
<li class="chapter" data-level="7.1" data-path="polygon-maps.html"><a href="polygon-maps.html"><i class="fa fa-check"></i><b>7.1</b> Polygon Maps</a></li>
<li class="chapter" data-level="7.2" data-path="simple-features-maps.html"><a href="simple-features-maps.html"><i class="fa fa-check"></i><b>7.2</b> Simple Features Maps</a><ul>
<li class="chapter" data-level="7.2.1" data-path="simple-features-maps.html"><a href="simple-features-maps.html#layered-maps"><i class="fa fa-check"></i><b>7.2.1</b> Layered Maps</a></li>
<li class="chapter" data-level="7.2.2" data-path="simple-features-maps.html"><a href="simple-features-maps.html#labelled-maps"><i class="fa fa-check"></i><b>7.2.2</b> Labelled Maps</a></li>
<li class="chapter" data-level="7.2.3" data-path="simple-features-maps.html"><a href="simple-features-maps.html#adding-other-geoms"><i class="fa fa-check"></i><b>7.2.3</b> Adding Other Geoms</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="map-projections.html"><a href="map-projections.html"><i class="fa fa-check"></i><b>7.3</b> Map Projections</a></li>
<li class="chapter" data-level="7.4" data-path="working-with-sf-data.html"><a href="working-with-sf-data.html"><i class="fa fa-check"></i><b>7.4</b> Working with <code>sf</code> Data</a></li>
<li class="chapter" data-level="7.5" data-path="raster-maps.html"><a href="raster-maps.html"><i class="fa fa-check"></i><b>7.5</b> Raster Maps</a></li>
<li class="chapter" data-level="7.6" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>7.6</b> Data Sources</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="networks.html"><a href="networks.html"><i class="fa fa-check"></i><b>8</b> Networks</a><ul>
<li class="chapter" data-level="8.1" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="what-is-network-data.html"><a href="what-is-network-data.html"><i class="fa fa-check"></i><b>8.2</b> What is network data?</a><ul>
<li class="chapter" data-level="8.2.1" data-path="what-is-network-data.html"><a href="what-is-network-data.html#a-tidy-network-manipulation-api"><i class="fa fa-check"></i><b>8.2.1</b> A tidy network manipulation API</a></li>
<li class="chapter" data-level="8.2.2" data-path="what-is-network-data.html"><a href="what-is-network-data.html#conversion"><i class="fa fa-check"></i><b>8.2.2</b> Conversion</a></li>
<li class="chapter" data-level="8.2.3" data-path="what-is-network-data.html"><a href="what-is-network-data.html#algorithms"><i class="fa fa-check"></i><b>8.2.3</b> Algorithms</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="visualizing-networks.html"><a href="visualizing-networks.html"><i class="fa fa-check"></i><b>8.3</b> Visualizing networks</a><ul>
<li class="chapter" data-level="8.3.1" data-path="visualizing-networks.html"><a href="visualizing-networks.html#setting-up-the-visualization"><i class="fa fa-check"></i><b>8.3.1</b> Setting up the visualization</a></li>
<li class="chapter" data-level="8.3.2" data-path="visualizing-networks.html"><a href="visualizing-networks.html#drawing-nodes"><i class="fa fa-check"></i><b>8.3.2</b> Drawing nodes</a></li>
<li class="chapter" data-level="8.3.3" data-path="visualizing-networks.html"><a href="visualizing-networks.html#drawing-edges"><i class="fa fa-check"></i><b>8.3.3</b> Drawing edges</a></li>
<li class="chapter" data-level="8.3.4" data-path="visualizing-networks.html"><a href="visualizing-networks.html#faceting-1"><i class="fa fa-check"></i><b>8.3.4</b> Faceting</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="conclusions.html"><a href="conclusions.html"><i class="fa fa-check"></i><b>8.4</b> Conclusions</a><ul>
<li class="chapter" data-level="8.4.1" data-path="conclusions.html"><a href="conclusions.html#resources"><i class="fa fa-check"></i><b>8.4.1</b> Resources:</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ggplot2 Book Club</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="what-is-network-data" class="section level2">
<h2><span class="header-section-number">8.2</span> What is network data?</h2>
<p>Networks data consists of entities (nodes or vertices) and their relation (edges or links).</p>
<p>Edges can be: directed or undirected</p>
<div id="a-tidy-network-manipulation-api" class="section level3">
<h3><span class="header-section-number">8.2.1</span> A tidy network manipulation API</h3>
<p>The first package is <code>tidygraph()</code> a dplyr API for network data.</p>
<p>New functions:</p>
<ul>
<li><code>activate()</code> informs tidygraph on which part of the network you want to work on, either nodes or edges.</li>
<li><code>.N()</code> which gives access to the node data of the current graph even when working with the edges
- <code>.E()</code> and <code>.G()</code> to access the edges or the whole graph)</li>
</ul>
<p>In this <strong>example</strong> we create a graph, assign a random label to the nodes, and sort the edges based on the label of their source node.</p>
<p>The function <code>play_erdos_renyi()</code> creates graphs directly through sampling of different attributes.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="what-is-network-data.html#cb143-1"></a><span class="kw">library</span>(tidygraph)</span>
<span id="cb143-2"><a href="what-is-network-data.html#cb143-2"></a></span>
<span id="cb143-3"><a href="what-is-network-data.html#cb143-3"></a>graph &lt;-<span class="st"> </span>tidygraph<span class="op">::</span><span class="kw">play_erdos_renyi</span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="dt">p =</span> <span class="fl">0.2</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb143-4"><a href="what-is-network-data.html#cb143-4"></a><span class="st">  </span><span class="kw">activate</span>(nodes) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb143-5"><a href="what-is-network-data.html#cb143-5"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">class =</span> <span class="kw">sample</span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>], <span class="kw">n</span>(), <span class="dt">replace =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb143-6"><a href="what-is-network-data.html#cb143-6"></a><span class="st">  </span><span class="kw">activate</span>(edges) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb143-7"><a href="what-is-network-data.html#cb143-7"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">.N</span>()<span class="op">$</span>class[from])</span>
<span id="cb143-8"><a href="what-is-network-data.html#cb143-8"></a></span>
<span id="cb143-9"><a href="what-is-network-data.html#cb143-9"></a>graph</span></code></pre></div>
<pre><code>## # A tbl_graph: 10 nodes and 23 edges
## #
## # A directed simple graph with 2 components
## #
## # Edge Data: 23 × 2 (active)
##    from    to
##   &lt;int&gt; &lt;int&gt;
## 1     8     1
## 2     9     1
## 3     3    10
## 4     3     5
## 5     3     7
## 6     9     7
## # … with 17 more rows
## #
## # Node Data: 10 × 1
##   class
##   &lt;chr&gt;
## 1 c    
## 2 a    
## 3 a    
## # … with 7 more rows</code></pre>
</div>
<div id="conversion" class="section level3">
<h3><span class="header-section-number">8.2.2</span> Conversion</h3>
<p>Data can be converted with <code>as_tbl_graph()</code>, a data structure for tidy graph manipulation. It converts a data frame encoded as an edgelist, as well as converting the result of <code>hclust()</code></p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="what-is-network-data.html#cb145-1"></a><span class="kw">data</span>(highschool, <span class="dt">package =</span> <span class="st">&quot;ggraph&quot;</span>)</span>
<span id="cb145-2"><a href="what-is-network-data.html#cb145-2"></a><span class="kw">head</span>(highschool)</span></code></pre></div>
<pre><code>##   from to year
## 1    1 14 1957
## 2    1 15 1957
## 3    1 21 1957
## 4    1 54 1957
## 5    1 55 1957
## 6    2 21 1957</code></pre>
<p>With <code>as_tbl_graph()</code> we obtain:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="what-is-network-data.html#cb147-1"></a>hs_graph &lt;-<span class="st"> </span>tidygraph<span class="op">::</span><span class="kw">as_tbl_graph</span>(highschool, <span class="dt">directed =</span> <span class="ot">FALSE</span>)</span>
<span id="cb147-2"><a href="what-is-network-data.html#cb147-2"></a>hs_graph</span></code></pre></div>
<pre><code>## # A tbl_graph: 70 nodes and 506 edges
## #
## # An undirected multigraph with 1 component
## #
## # Node Data: 70 × 1 (active)
##   name 
##   &lt;chr&gt;
## 1 1    
## 2 2    
## 3 3    
## 4 4    
## 5 5    
## 6 6    
## # … with 64 more rows
## #
## # Edge Data: 506 × 3
##    from    to  year
##   &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
## 1     1    13  1957
## 2     1    14  1957
## 3     1    20  1957
## # … with 503 more rows</code></pre>
<div id="hclust-and-dist-functions" class="section level4">
<h4><span class="header-section-number">8.2.2.1</span> hclust() and dist() functions:</h4>
<p>In this <strong>example</strong> the <code>luv_colours()</code> function allows for all built-in <code>colors()</code> translated into <strong>Luv colour space</strong>, a data frame with 657 observations and 4 variables:
<a href="https://github.com/tidyverse/ggplot2/blob/main/data-raw/luv_colours.R">luv_colours</a></p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="what-is-network-data.html#cb149-1"></a>luv_colours &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">convertColor</span>(<span class="kw">t</span>(<span class="kw">col2rgb</span>(<span class="kw">colors</span>())),</span>
<span id="cb149-2"><a href="what-is-network-data.html#cb149-2"></a>                                          <span class="st">&quot;sRGB&quot;</span>, <span class="st">&quot;Luv&quot;</span>))</span>
<span id="cb149-3"><a href="what-is-network-data.html#cb149-3"></a>luv_colours<span class="op">$</span>col &lt;-<span class="st"> </span><span class="kw">colors</span>()</span>
<span id="cb149-4"><a href="what-is-network-data.html#cb149-4"></a><span class="kw">head</span>(luv_colours)</span></code></pre></div>
<pre><code>##          L             u         v           col
## 1 9341.570 -3.370649e-12    0.0000         white
## 2 9100.962 -4.749170e+02 -635.3502     aliceblue
## 3 8809.518  1.008865e+03 1668.0042  antiquewhite
## 4 8935.225  1.065698e+03 1674.5948 antiquewhite1
## 5 8452.499  1.014911e+03 1609.5923 antiquewhite2
## 6 7498.378  9.029892e+02 1401.7026 antiquewhite3</code></pre>
<p>This visualization represent the content of the dataset, then we will see how it looks in a grapg representation.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="what-is-network-data.html#cb151-1"></a><span class="kw">ggplot</span>(luv_colours, <span class="kw">aes</span>(u, v)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb151-2"><a href="what-is-network-data.html#cb151-2"></a><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> col), <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb151-3"><a href="what-is-network-data.html#cb151-3"></a><span class="kw">scale_color_identity</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb151-4"><a href="what-is-network-data.html#cb151-4"></a><span class="kw">coord_equal</span>() <span class="op">+</span></span>
<span id="cb151-5"><a href="what-is-network-data.html#cb151-5"></a><span class="st">  </span><span class="kw">theme_void</span>()</span></code></pre></div>
<p><img src="bookclub-ggplot2_01_files/figure-html/colors-1.png" width="672" /></p>
<p>For example, selecting the first 3 variables and plotting the data with the plot() function we can see that there are some connections within the elements of the dataset, as the colors are connected to each other.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="what-is-network-data.html#cb152-1"></a>ggplot2<span class="op">::</span>luv_colours[, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] <span class="op">%&gt;%</span><span class="st"> </span>head</span></code></pre></div>
<pre><code>##          L             u         v
## 1 9341.570 -3.370649e-12    0.0000
## 2 9100.962 -4.749170e+02 -635.3502
## 3 8809.518  1.008865e+03 1668.0042
## 4 8935.225  1.065698e+03 1674.5948
## 5 8452.499  1.014911e+03 1609.5923
## 6 7498.378  9.029892e+02 1401.7026</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="what-is-network-data.html#cb154-1"></a><span class="kw">plot</span>(ggplot2<span class="op">::</span>luv_colours[, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])</span></code></pre></div>
<p><img src="bookclub-ggplot2_01_files/figure-html/palette-1.png" width="672" /></p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="what-is-network-data.html#cb155-1"></a>luv_clust &lt;-<span class="st"> </span><span class="kw">hclust</span>(<span class="kw">dist</span>(ggplot2<span class="op">::</span>luv_colours[, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>]))</span></code></pre></div>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="what-is-network-data.html#cb156-1"></a><span class="kw">class</span>(luv_clust)</span></code></pre></div>
<pre><code>## [1] &quot;hclust&quot;</code></pre>
<p>With the <code>tidygraph::as_tbl_graph()</code> function we can transorm the dataset into classes “tbl_graph”, “igraph” to make it ready to use for making a visualization of the network data.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="what-is-network-data.html#cb158-1"></a>luv_graph &lt;-<span class="st"> </span><span class="kw">as_tbl_graph</span>(luv_clust)</span>
<span id="cb158-2"><a href="what-is-network-data.html#cb158-2"></a>luv_graph;<span class="kw">class</span>(luv_graph)</span></code></pre></div>
<pre><code>## # A tbl_graph: 1313 nodes and 1312 edges
## #
## # A rooted tree
## #
## # Node Data: 1,313 × 4 (active)
##   height leaf  label members
##    &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;   &lt;int&gt;
## 1     0  TRUE  &quot;101&quot;       1
## 2     0  TRUE  &quot;427&quot;       1
## 3   778. FALSE &quot;&quot;          2
## 4     0  TRUE  &quot;571&quot;       1
## 5     0  TRUE  &quot;426&quot;       1
## 6     0  TRUE  &quot;424&quot;       1
## # … with 1,307 more rows
## #
## # Edge Data: 1,312 × 2
##    from    to
##   &lt;int&gt; &lt;int&gt;
## 1     3     1
## 2     3     2
## 3     8     6
## # … with 1,309 more rows</code></pre>
<pre><code>## [1] &quot;tbl_graph&quot; &quot;igraph&quot;</code></pre>
</div>
</div>
<div id="algorithms" class="section level3">
<h3><span class="header-section-number">8.2.3</span> Algorithms</h3>
<p>The real benefit of networks comes from the different operations that can be performed on them using the underlying structure.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="what-is-network-data.html#cb161-1"></a>luv_graph <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb161-2"><a href="what-is-network-data.html#cb161-2"></a><span class="st">  </span>tidygraph<span class="op">::</span><span class="kw">activate</span>(nodes) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb161-3"><a href="what-is-network-data.html#cb161-3"></a><span class="st">             </span><span class="kw">mutate</span>(<span class="dt">centrality =</span> <span class="kw">centrality_pagerank</span>()) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb161-4"><a href="what-is-network-data.html#cb161-4"></a><span class="st">             </span><span class="kw">arrange</span>(<span class="kw">desc</span>(centrality))</span></code></pre></div>
<pre><code>## # A tbl_graph: 1313 nodes and 1312 edges
## #
## # A rooted tree
## #
## # Node Data: 1,313 × 5 (active)
##   height leaf  label members centrality
##    &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;   &lt;int&gt;      &lt;dbl&gt;
## 1      0 TRUE  207         1   0.000763
## 2      0 TRUE  315         1   0.000763
## 3      0 TRUE  208         1   0.000763
## 4      0 TRUE  316         1   0.000763
## 5      0 TRUE  205         1   0.000763
## 6      0 TRUE  313         1   0.000763
## # … with 1,307 more rows
## #
## # Edge Data: 1,312 × 2
##    from    to
##   &lt;int&gt; &lt;int&gt;
## 1  1187  1079
## 2  1187  1080
## 3   942   797
## # … with 1,309 more rows</code></pre>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="visualizing-networks.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/r4ds/bookclub-ggplot2/edit/main/07-Networks.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
